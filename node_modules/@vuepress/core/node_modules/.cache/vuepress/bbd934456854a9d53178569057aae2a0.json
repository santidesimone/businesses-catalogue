{"remainingRequest":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/santidesimone/clients/me/businesses-catalogue/src/.vuepress/theme/components/ArchiveList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/santidesimone/clients/me/businesses-catalogue/src/.vuepress/theme/components/ArchiveList.vue","mtime":1675460504107},{"path":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/cache-loader/dist/cjs.js","mtime":1675377198708},{"path":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/babel-loader/lib/index.js","mtime":1675460524206},{"path":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/cache-loader/dist/cjs.js","mtime":1675377198708},{"path":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/vue-loader/lib/index.js","mtime":1675460524855}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdBcmNoaXZlTGlzdCcsCiAgICBwcm9wczogewogICAgICAgIHBhZ2VzOiB7CiAgICAgICAgICAgIHR5cGU6IEFycmF5LAogICAgICAgICAgICBkZWZhdWx0OiBbXQogICAgICAgIH0sCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzZWxlY3RlZFRhZ3M6IFtdCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZmlsdGVyZWRMaXN0KCkgewogICAgICAgICAgICBpZiAodGhpcy5wYWdlcykgewogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYWdlcy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNCbG9nUG9zdCA9ICEhaXRlbS5mcm9udG1hdHRlci5ibG9nCiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNSZWFkeVRvUHVibGlzaCA9IG5ldyBEYXRlKGl0ZW0uZnJvbnRtYXR0ZXIuZGF0ZSkgPD0gbmV3IERhdGUoKQogICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBsb2NhbGVzCiAgICAgICAgICAgICAgICAgICAgbGV0IGlzQ3VycmVudExvY2FsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy4kc2l0ZS5sb2NhbGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsZVBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoLnNwbGl0KCcvJylbMV0gfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3VycmVudExvY2FsZSA9IGl0ZW0ucmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgobG9jYWxlUGF0aCk7ICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRhZ3MgY29udGFpbiBhbnkgb2YgdGhlIHNlbGVjdGVkIHRhZ3MKICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBoYXNUYWdzID0gaXRlbS5mcm9udG1hdHRlci50YWdzICYmIGl0ZW0uZnJvbnRtYXR0ZXIudGFncy5zb21lKHRhZyA9PiB0aGlzLnNlbGVjdGVkVGFncy5pbmNsdWRlcyh0YWcpKQogICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRhZ3MgY29udGFpbiBhbGwgb2YgdGhlIHNlbGVjdGVkIHRhZ3MKICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNUYWdzID0gISFpdGVtLmZyb250bWF0dGVyLnRhZ3MgJiYgdGhpcy5zZWxlY3RlZFRhZ3MuZXZlcnkoKHRhZykgPT4gaXRlbS5mcm9udG1hdHRlci50YWdzLmluY2x1ZGVzKHRhZykpCgogICAgICAgICAgICAgICAgICAgIGlmICghaXNCbG9nUG9zdCB8fCAhaXNSZWFkeVRvUHVibGlzaCB8fCAodGhpcy5zZWxlY3RlZFRhZ3MubGVuZ3RoID4gMCAmJiAhaGFzVGFncykgfHwgIWlzQ3VycmVudExvY2FsZSl7IAogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuZnJvbnRtYXR0ZXIuZGF0ZSkgLSBuZXcgRGF0ZShhLmZyb250bWF0dGVyLmRhdGUpKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0WWVhcnM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gWy4uLm5ldyBTZXQodGhpcy5maWx0ZXJlZExpc3QubWFwKGl0ZW0gPT4gbmV3IERhdGUoaXRlbS5mcm9udG1hdHRlci5kYXRlKS5nZXRGdWxsWWVhcigpKSldCiAgICAgICAgfSwKCiAgICAgICAgZ2V0TW9udGhzOiBmdW5jdGlvbih5ZWFyKSB7CiAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldCh0aGlzLmZpbHRlcmVkTGlzdC5maWx0ZXIoaXRlbSA9PiBuZXcgRGF0ZShpdGVtLmZyb250bWF0dGVyLmRhdGUpLmdldEZ1bGxZZWFyKCkgPT0geWVhcikubWFwKCBpdGVtID0+IG5ldyBEYXRlKGl0ZW0uZnJvbnRtYXR0ZXIuZGF0ZSkuZ2V0TW9udGgoKSkpXQogICAgICAgIH0sCgogICAgICAgIHBvc3RzQnlEYXRlKHllYXIsIG1vbnRoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkTGlzdC5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoaXRlbS5mcm9udG1hdHRlci5kYXRlKQogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSA9PSB5ZWFyICYmIGRhdGUuZ2V0TW9udGgoKSA9PSBtb250aAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICB9LAogICAgZmlsdGVyczogewogICAgICAgLy8gRmlsdGVyIGRlZmluaXRpb25zCiAgICAgICAgbW9udGhUb0xvbmdOYW1lKHZhbHVlKSB7CiAgICAgICAgICAgIGNvbnN0IG1vbnRocyA9IFsgIkphbnVhcnkiLCAiRmVicnVhcnkiLCAiTWFyY2giLCAiQXByaWwiLCAiTWF5IiwgIkp1bmUiLCAKICAgICAgICAgICAiSnVseSIsICJBdWd1c3QiLCAiU2VwdGVtYmVyIiwgIk9jdG9iZXIiLCAiTm92ZW1iZXIiLCAiRGVjZW1iZXIiIF07CgogICAgICAgICAgIHJldHVybiBtb250aHNbdmFsdWVdCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["ArchiveList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ArchiveList.vue","sourceRoot":"src/.vuepress/theme/components","sourcesContent":["<template>\n  <div class=\"theme-default-content\">\n    <div v-for=\"year in getYears()\">\n      <div class=\"archive-year\">{{year}}</div>\n      <div v-for=\"month in getMonths(year)\">\n        <div class=\"archive-month\">{{month | monthToLongName}}</div>\n        <ul class=\"archive-list\">\n          <li v-for=\"(item, index) in postsByDate(year, month)\" class=\"archive-list__item\">\n            {{new Date(item.frontmatter.date).getDate()}} - <router-link :to=\"item.path\">{{item.title}}</router-link>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    name: 'ArchiveList',\n    props: {\n        pages: {\n            type: Array,\n            default: []\n        },\n    },\n    data() {\n        return {\n            selectedTags: []\n        }\n    },\n    computed: {\n        filteredList() {\n            if (this.pages) {\n                \n                return this.pages.filter(item => {\n                    const isBlogPost = !!item.frontmatter.blog\n                    const isReadyToPublish = new Date(item.frontmatter.date) <= new Date()\n                    // check for locales\n                    let isCurrentLocale = true;\n                    if(this.$site.locales) {\n                        const localePath = this.$route.path.split('/')[1] || \"\";\n                        isCurrentLocale = item.relativePath.startsWith(localePath);   \n                    }\n                    // check if tags contain any of the selected tags\n                    // const hasTags = item.frontmatter.tags && item.frontmatter.tags.some(tag => this.selectedTags.includes(tag))\n                    // check if tags contain all of the selected tags\n                    const hasTags = !!item.frontmatter.tags && this.selectedTags.every((tag) => item.frontmatter.tags.includes(tag))\n\n                    if (!isBlogPost || !isReadyToPublish || (this.selectedTags.length > 0 && !hasTags) || !isCurrentLocale){ \n                        return false\n                    }\n\n                    return true\n                    \n                })\n                .sort((a, b) => new Date(b.frontmatter.date) - new Date(a.frontmatter.date))\n            }\n        },\n    },\n    methods: {\n        getYears: function() {\n            return [...new Set(this.filteredList.map(item => new Date(item.frontmatter.date).getFullYear()))]\n        },\n\n        getMonths: function(year) {\n            return [...new Set(this.filteredList.filter(item => new Date(item.frontmatter.date).getFullYear() == year).map( item => new Date(item.frontmatter.date).getMonth()))]\n        },\n\n        postsByDate(year, month) {\n            return this.filteredList.filter(item => {\n                const date = new Date(item.frontmatter.date)\n                return date.getFullYear() == year && date.getMonth() == month\n            })\n        },\n    },\n    filters: {\n       // Filter definitions\n        monthToLongName(value) {\n            const months = [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \n           \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ];\n\n           return months[value]\n        }\n    }\n}\n</script>\n\n<style>\n.archive-list {\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.archive-year {\n    font-weight: bold;\n    font-size:  32px;\n    margin: 0 0 16px 0;\n}\n\n.archive-month {\n    font-weight: bold;\n    font-size:  24px;\n    margin: 0 0 16px 16px;\n}\n\n.archive-list__item {\n\tlist-style-type: none;\n    margin: 0 0 16px 32px;\n}\n</style>\n"]}]}