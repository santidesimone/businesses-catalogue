{"remainingRequest":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/santidesimone/clients/me/businesses-catalogue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/santidesimone/clients/me/businesses-catalogue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/santidesimone/clients/me/businesses-catalogue/src/.vuepress/theme/components/Blog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/santidesimone/clients/me/businesses-catalogue/src/.vuepress/theme/components/Blog.vue","mtime":1675460504107},{"path":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/cache-loader/dist/cjs.js","mtime":1675377198708},{"path":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/babel-loader/lib/index.js","mtime":1675460524206},{"path":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/cache-loader/dist/cjs.js","mtime":1675377198708},{"path":"/Users/santidesimone/clients/me/businesses-catalogue/node_modules/vue-loader/lib/index.js","mtime":1675460524855}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQb3N0UHJldmlldyBmcm9tICcuL1Bvc3RQcmV2aWV3JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFBvc3RQcmV2aWV3OiBQb3N0UHJldmlldwogIH0sCiAgcHJvcHM6IHsKICAgIHBhZ2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICAiZGVmYXVsdCI6IFtdCiAgICB9LAogICAgcGFnZVNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAiZGVmYXVsdCI6IDUKICAgIH0sCiAgICBzdGFydFBhZ2U6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAiZGVmYXVsdCI6IDAKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50UGFnZTogTWF0aC5jZWlsKHRoaXMuc3RhcnRQYWdlIC8gdGhpcy5wYWdlU2l6ZSksCiAgICAgIHNlbGVjdGVkVGFnczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZmlsdGVyZWRMaXN0OiBmdW5jdGlvbiBmaWx0ZXJlZExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5wYWdlcykgewogICAgICAgIHJldHVybiB0aGlzLnBhZ2VzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdmFyIGlzQmxvZ1Bvc3QgPSAhIWl0ZW0uZnJvbnRtYXR0ZXIuYmxvZzsKICAgICAgICAgIHZhciBpc1JlYWR5VG9QdWJsaXNoID0gbmV3IERhdGUoaXRlbS5mcm9udG1hdHRlci5kYXRlKSA8PSBuZXcgRGF0ZSgpOyAvLyBjaGVjayBmb3IgbG9jYWxlcwoKICAgICAgICAgIHZhciBpc0N1cnJlbnRMb2NhbGUgPSB0cnVlOwoKICAgICAgICAgIGlmIChfdGhpcy4kc2l0ZS5sb2NhbGVzKSB7CiAgICAgICAgICAgIHZhciBsb2NhbGVQYXRoID0gX3RoaXMuJHJvdXRlLnBhdGguc3BsaXQoJy8nKVsxXSB8fCAiIjsKICAgICAgICAgICAgaXNDdXJyZW50TG9jYWxlID0gaXRlbS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChsb2NhbGVQYXRoKTsKICAgICAgICAgIH0gLy8gY2hlY2sgaWYgdGFncyBjb250YWluIGFsbCBvZiB0aGUgc2VsZWN0ZWQgdGFncwoKCiAgICAgICAgICB2YXIgaGFzVGFncyA9ICEhaXRlbS5mcm9udG1hdHRlci50YWdzICYmIF90aGlzLnNlbGVjdGVkVGFncy5ldmVyeShmdW5jdGlvbiAodGFnKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmZyb250bWF0dGVyLnRhZ3MuaW5jbHVkZXModGFnKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmICghaXNCbG9nUG9zdCB8fCAhaXNSZWFkeVRvUHVibGlzaCB8fCBfdGhpcy5zZWxlY3RlZFRhZ3MubGVuZ3RoID4gMCAmJiAhaGFzVGFncyB8fCAhaXNDdXJyZW50TG9jYWxlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYi5mcm9udG1hdHRlci5kYXRlKSAtIG5ldyBEYXRlKGEuZnJvbnRtYXR0ZXIuZGF0ZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB0b3RhbFBhZ2VzOiBmdW5jdGlvbiB0b3RhbFBhZ2VzKCkgewogICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuZmlsdGVyZWRMaXN0Lmxlbmd0aCAvIHRoaXMucGFnZVNpemUpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY3VycmVudFBhZ2UgPSBNYXRoLm1pbihNYXRoLm1heCh0aGlzLmN1cnJlbnRQYWdlLCAwKSwgdGhpcy50b3RhbFBhZ2VzIC0gMSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBuZXh0UGFnZTogZnVuY3Rpb24gbmV4dFBhZ2UoKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlID49IHRoaXMudG90YWxQYWdlcyAtIDEgPyB0aGlzLnRvdGFsUGFnZXMgLSAxIDogdGhpcy5jdXJyZW50UGFnZSArIDE7CiAgICB9LAogICAgcHJldmlvdXNQYWdlOiBmdW5jdGlvbiBwcmV2aW91c1BhZ2UoKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlIDwgMCA/IDAgOiB0aGlzLmN1cnJlbnRQYWdlIC0gMTsKICAgIH0sCiAgICBhZGRUYWc6IGZ1bmN0aW9uIGFkZFRhZyh0YWcpIHsKICAgICAgdmFyIHRhZ0V4aXN0cyA9IHRoaXMuc2VsZWN0ZWRUYWdzLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbSA9PT0gdGFnOwogICAgICB9KTsKCiAgICAgIGlmICghdGFnRXhpc3RzKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZFRhZ3MgPSB0aGlzLnNlbGVjdGVkVGFncy5jb25jYXQodGFnKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZVRhZzogZnVuY3Rpb24gcmVtb3ZlVGFnKHRhZykgewogICAgICB0aGlzLnNlbGVjdGVkVGFncy5maWx0ZXIoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdCAhPSB0YWc7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0VGFnczogZnVuY3Rpb24gcmVzZXRUYWdzKCkgewogICAgICB0aGlzLnNlbGVjdGVkVGFncyA9IFtdOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Blog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"theme-default-content\">  \n    <div \n      v-if=\"selectedTags.length > 0\"\n      class=\"filtered-heading\"\n    >\n      <h2>Filtered by {{ selectedTags.join(',') }}</h2>\n      <button\n        type=\"button\"\n        @click=\"resetTags\"\n        class=\"btn clear-filter-btn\"\n      >\n        Clear filter\n      </button>\n    </div>\n    <ul class=\"blog-list\">\n      <li v-for=\"(item, index) in filteredList\"\n        class=\"blog-list__item\">\n        <PostPreview v-on:add-tag=\"addTag($event)\"\n          v-show=\"index >= currentPage * pageSize && index < (currentPage + 1) * pageSize\"\n          :item=\"item\"\n          v-on:tag-click=\"console.log($event)\"\n        />\n      </li>\n    </ul>\n\n    <div class=\"pagination\">\n      <div>\n        <a href=\"#\"\n          v-show=\"currentPage > 0\" \n          @click=\"previousPage\"\n          class=\"button--pagination\" \n        >\n          Newer Posts\n        </a>\n      </div>\n      <div>\n        <a href=\"#\"\n          v-show=\"currentPage < totalPages - 1\"\n          @click=\"nextPage\"\n          class=\"button--pagination\"\n        >\n          Older Posts\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PostPreview from './PostPreview'\n\nexport default {\n    components: { PostPreview },\n    props: {\n        pages: {\n            type: Array,\n            default: []\n        },\n        pageSize: {\n            type: Number,\n            default: 5\n        },\n        startPage: {\n            type: Number,\n            default: 0\n        }\n    },\n    data() {\n        return {\n            currentPage: Math.ceil(this.startPage / this.pageSize),\n            selectedTags: []\n        }\n    },\n    computed: {\n        filteredList() {\n            if (this.pages) {\n                \n                return this.pages.filter(item => {\n                    const isBlogPost = !!item.frontmatter.blog\n                    const isReadyToPublish = new Date(item.frontmatter.date) <= new Date()\n                     // check for locales\n                    let isCurrentLocale = true;\n                    if(this.$site.locales) {\n                        const localePath = this.$route.path.split('/')[1] || \"\";\n                        isCurrentLocale = item.relativePath.startsWith(localePath);   \n                    }\n                    // check if tags contain all of the selected tags\n                    const hasTags = !!item.frontmatter.tags && this.selectedTags.every((tag) => item.frontmatter.tags.includes(tag))\n\n                    if (!isBlogPost || !isReadyToPublish || (this.selectedTags.length > 0 && !hasTags) || !isCurrentLocale){ \n                        return false\n                    }\n\n                    return true\n                    \n                }).sort((a, b) => new Date(b.frontmatter.date) - new Date(a.frontmatter.date))\n            }\n        },\n\n        totalPages() {\n            \n            return Math.ceil(this.filteredList.length / this.pageSize)\n        },\n    },\n\n    mounted() {\n        this.currentPage =  Math.min(Math.max(this.currentPage, 0), this.totalPages - 1)\n    },\n\n    methods: {\n        nextPage() {\n            this.currentPage = this.currentPage >= this.totalPages - 1 ? this.totalPages - 1 : this.currentPage + 1\n        },\n        previousPage() {\n            this.currentPage = this.currentPage < 0 ? 0 : this.currentPage - 1\n        },\n        addTag(tag) {\n            const tagExists = this.selectedTags.some(item => {\n                return item === tag\n            })\n\n            if (!tagExists){\n                this.selectedTags = this.selectedTags.concat(tag)\n            }\n        },\n        removeTag(tag) {\n            this.selectedTags.filter(t => t != tag)\n        },\n        resetTags(){\n            this.selectedTags = []\n        }\n    }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.blog-list\n    padding 0\n    margin 0\n\n.blog-list__item\n    list-style-type none\n\n.blog-list__tags\n    margin-bottom 15px\n\n.button--pagination\n    text-decoration none\n    color lighten($textColor, 25%)\n    &:hover\n        text-decoration none !important\n        border-bottom 2px solid $accentColor\n\n.clear-filter-btn\n    align-self center\n    margin-left 20px\n\n.filtered-heading\n    display flex\n\n.pagination\n    display flex\n    justify-content space-between\n</style>\n"],"sourceRoot":"src/.vuepress/theme/components"}]}